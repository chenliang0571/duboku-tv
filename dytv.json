[
    {
        "title": "独播库duboku.com",
        "url_home": "https://www.duboku.com/",
        "url_search": "https://www.duboku.tv/vodsearch/-------------.html?submit=&wd=",
        "episode_direction": "asc",
        "js_get_player": "\nwindow.jsGetPlayer = () => {\n    const iframe = document.querySelector('iframe[src=\\\"/static/player/videojs.html\\\"]');\n    if (iframe) {\n        const video = iframe.contentWindow.document.querySelector('video');\n        return { iframe, video };\n    } else {\n        return 'jsGetPlayer-error-iframe-is-null';\n    }\n}\n        ",
        "js_clear_tag": "\nwindow.jsClearTag = () => {\n    const header = document.querySelector('body > header');\n    if(header) header.style.display='none';\n}\n        ",
        "js_load_meta": "\nwindow.jsLoadMeta = () => {\n    const dramas = [];\n    document.querySelectorAll('div.myui-panel.myui-panel-bg > div.myui-panel-box').forEach(dom => {\n        const category = dom.querySelector('div.myui-panel__head > h3.title');\n        const more = dom.querySelector('div.myui-panel__head > a.more');\n        dom.querySelectorAll('ul.myui-vodlist > li > div').forEach(div => {\n            const a = div.querySelector('a');\n            dramas.push({\n                title: window.queryElementAttribute(a, 'title'),\n                url: a ? a.href : '',\n                image: window.queryElementAttribute(a, 'data-original'),\n                tag: window.querySelectorInnerText(a, 'span.tag'),\n                pic_text: window.querySelectorInnerText(a, 'span.pic-text'),\n                category: category ? category.innerText : '',\n                cast: window.querySelectorInnerText(div, 'div.myui-vodlist__detail p'),\n            });\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_search_results": "\nwindow.jsSearchResults = () => {\n    const dramas = [];\n    document.querySelectorAll('div.myui-panel.myui-panel-bg > div.myui-panel-box').forEach(dom => {\n        const category = dom.querySelector('div.myui-panel__head > h3.title');\n        const more = dom.querySelector('div.myui-panel__head > a.more');\n        dom.querySelectorAll('ul.myui-vodlist__media > li > div').forEach(div => {\n            const a = div.querySelector('a');\n            dramas.push({\n                title: window.queryElementAttribute(a, 'title'),\n                url: a ? a.href : '',\n                image: window.queryElementAttribute(a, 'data-original'),\n                tag: window.querySelectorInnerText(a, 'span.tag'),\n                pic_text: window.querySelectorInnerText(a, 'span.pic-text'),\n                category: category ? category.innerText : '',\n            });\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_load_episodes": "\nwindow.jsLoadEpisodes = () => {\n    const items = [];\n    document.querySelector('#playlist1 ul').querySelectorAll('li a.btn').forEach(node => {\n        items.push({title: node.innerText, url: node.href});\n    });\n    return JSON.stringify(items);\n}\n        "
    },
    {
        "title": "小宝影院xiaoheimi.net",
        "url_home": "https://xiaoheimi.net/",
        "url_search": "https://xiaoheimi.net/index.php/vod/search.html?submit=&wd=",
        "episode_direction": "asc",
        "js_get_player": "\nwindow.jsGetPlayer = () => {\n    const iframe = document.querySelector('iframe#iframe');\n    if (iframe) {\n        const video = iframe.contentWindow.document.querySelector('video');\n        return { iframe, video };\n    } else {\n        return 'jsGetPlayer-error-iframe-is-null';\n    }\n}\n        ",
        "js_clear_tag": "\nwindow.jsClearTag = () => {\n    const header = document.querySelector('body > header');\n    if(header) header.style.display='none';\n    const sidebar = document.getElementById('player-sidebar-is');\n    if(sidebar) sidebar.style.display='none';\n}\n        ",
        "js_load_meta": "\nwindow.jsLoadMeta = () => {\n    const dramas = [];\n    document.querySelectorAll('#home_slide .item').forEach(dom => {\n        const a = dom.querySelector('a');\n        dramas.push({\n            title: window.queryElementAttribute(a, 'title'),\n            url: a ? a.href : '',\n            image: window.queryElementAttribute(dom.querySelector('img'), 'src'),\n            tag: '',\n            pic_text: '',\n            category: 'slide',\n            cast: '',\n        });\n    });\n    document.querySelectorAll('div.myui-panel.myui-panel-bg > div.myui-panel-box').forEach(dom => {\n        const category = dom.querySelector('div.myui-panel__head > h3.title');\n        const more = dom.querySelector('div.myui-panel__head > a.more');\n        dom.querySelectorAll('ul.myui-vodlist > li > div').forEach(div => {\n            const a = div.querySelector('a');\n            dramas.push({\n                title: window.queryElementAttribute(a, 'title'),\n                url: a ? a.href : '',\n                image: window.queryElementAttribute(a, 'data-original'),\n                tag: window.querySelectorInnerText(a, 'span.tag'),\n                pic_text: window.querySelectorInnerText(a, 'span.pic-text'),\n                category: category ? category.innerText : '',\n                cast: window.querySelectorInnerText(div, 'div.myui-vodlist__detail p'),\n            });\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_search_results": "\nwindow.jsSearchResults = () => {\n    const dramas = [];\n    document.querySelectorAll('div.myui-panel.myui-panel-bg > div.myui-panel-box').forEach(dom => {\n        const category = dom.querySelector('div.myui-panel__head > h3.title');\n        const more = dom.querySelector('div.myui-panel__head > a.more');\n        dom.querySelectorAll('ul.myui-vodlist__media > li > div').forEach(div => {\n            const a = div.querySelector('a');\n            dramas.push({\n                title: window.queryElementAttribute(a, 'title'),\n                url: a ? a.href : '',\n                image: window.queryElementAttribute(a, 'data-original'),\n                tag: window.querySelectorInnerText(a, 'span.tag'),\n                pic_text: window.querySelectorInnerText(a, 'span.pic-text'),\n                category: category ? category.innerText : '',\n            });\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_load_episodes": "\nwindow.jsLoadEpisodes = () => {\n    const items = [];\n    document.querySelector('#playlist1 ul').querySelectorAll('li a.btn').forEach(node => {\n        items.push({title: node.innerText, url: node.href});\n    });\n    return JSON.stringify(items);\n}\n        "
    },
    {
        "title": "欧乐影院olevod.com",
        "url_home": "https://www.olevod.com/",
        "url_search": "https://www.olevod.com/index.php/vod/search.html?submit=&wd=",
        "episode_direction": "desc",
        "js_get_player": "\nwindow.jsGetPlayer = () => {\n    const iframe = document.querySelector('iframe[src=\\\"/static/player/plyr2.html\\\"]');\n    if (iframe) {\n        const video = iframe.contentWindow.document.querySelector('video');\n        return { iframe, video };\n    } else {\n        return 'jsGetPlayer-error-iframe-is-null';\n    }\n}\n        ",
        "js_clear_tag": "\nwindow.jsClearTag = () => {\n    document.querySelectorAll('iframe').forEach(node => {\n        if(!node.src) node.style.display = 'none';\n    });\n    document.querySelectorAll('div.OUTBRAIN').forEach(node => node.innerHTML = '');\n    const header = document.querySelector('#play_page > div.hot_banner');\n    if(header) header.style.display = 'none';\n    const foot = document.querySelector('#play_page > div.foot_nav');\n    if(foot) foot.style.display = 'none';\n    const ad = document.querySelector('#play_page > div.container');\n    if(ad) ad.style.display = 'none';\n}\n        ",
        "js_load_meta": "\nwindow.jsLoadMeta = () => {\n    const dramas = [];\n    const host = window.location.protocol + '//' + window.location.host;\n    document.querySelectorAll('div.vod_row.tit_up > div.pannel').forEach(dom => {\n        const title = dom.querySelector('h2.title');\n        const more = dom.querySelector('div.pannel_head > a.text_muted.pull_left');\n        dom.querySelectorAll('div.cbox_list li.vodlist_item > a').forEach(a => {\n            dramas.push({\n                title: a.title,\n                url: a.href,\n                image: host + a.getAttribute('data-original'),\n                tag: a.querySelector('span.tag') ? a.querySelector('span.tag').innerText : '',\n                picText: a.querySelector('span.pic_text') ? a.querySelector('span.pic_text').innerText : '',\n                category: title ? title.innerText: '',\n            });\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_search_results": "\nwindow.jsSearchResults = () => {\n    const dramas = [];\n    const host = window.location.protocol + '//' + window.location.host;\n    document.querySelectorAll('div.pannel').forEach(dom => {\n        const title = dom.querySelector('div.pannel_head h3.title');\n        const more = '';\n        dom.querySelectorAll('div.search_box > ul.vodlist > li > div.searchlist_img > a').forEach(a => {\n            dramas.push({\n                title: a.title,\n                url: a.href,\n                image: host + a.getAttribute('data-original'),\n                tag: a.querySelector('span.tag') ? a.querySelector('span.tag').innerText : '',\n                picText: a.querySelector('span.pic_text') ? a.querySelector('span.pic_text').innerText : '',\n                category: title ? title.innerText: '',\n            });\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_load_episodes": "\nwindow.jsLoadEpisodes = () => {\n    const items = [];\n    document.querySelector('#playlistbox ul').querySelectorAll('li a').forEach(node => {\n        items.push({title: node.innerText, url: node.href});\n    });\n    return JSON.stringify(items);\n}\n        "
    },
    {
        "title": "腐剧fuju.tv",
        "url_home": "https://fuju.tv/",
        "url_search": "https://fuju.tv/vodsearch/-------------.html?submit=&wd=",
        "episode_direction": "asc",
        "js_get_player": "\nwindow.jsGetPlayer = () => {\n    const video = document.querySelector('video');\n    if (video) {\n        return { iframe: null, video };\n    } else {\n        return 'jsGetPlayer-error-video-is-null';\n    }\n}\n        ",
        "js_clear_tag": "\nwindow.jsClearTag = () => {\n    const iframe_m3u8 = document.querySelector('iframe[src*=\"http\"][src*=\".m3u8\"]');\n    const iframe_mp4 = document.querySelector('iframe[src*=\"http\"][src*=\".mp4\"]');\n    const iframe = iframe_m3u8 ? iframe_m3u8 : iframe_mp4;\n    if(iframe && /^http.*\\.(m3u8|mp4)$/.test(iframe.src)) {\n        console.log('iframe.src: ' + iframe.src);\n        window.location = iframe.src;\n    } else {\n        const danmu = document.querySelector('.yzmplayer-danmu');\n        if(danmu) {\n            danmu.hidden = true;\n        }\n    }\n}\n        ",
        "js_load_meta": "\nwindow.jsLoadMeta = () => {\n    const dramas = [];\n    document.querySelectorAll('div.myui-panel.myui-panel-bg > div.myui-panel-box').forEach(dom => {\n        const title = dom.querySelector('div.myui-panel__head > h3.title');\n        const more = dom.querySelector('div.myui-panel__head > a.more');\n        dom.querySelectorAll('ul.myui-vodlist > li > div > a').forEach(a => {\n            dramas.push({\n                title: a.title,\n                url: a.href,\n                image: a.getAttribute('data-original'),\n                tag: a.querySelector('span.tag') ? a.querySelector('span.tag').innerText : '',\n                picText: a.querySelector('span.pic-text') ? a.querySelector('span.pic-text').innerText : '',\n                category: title ? title.innerText : '',\n            });\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_search_results": "\nwindow.jsSearchResults = () => {\n    const dramas = [];\n    document.querySelectorAll('div.myui-panel.myui-panel-bg > div.myui-panel-box').forEach(dom => {\n        const title = dom.querySelector('div.myui-panel__head > h3.title');\n        const more = dom.querySelector('div.myui-panel__head > a.more');\n        dom.querySelectorAll('ul.myui-vodlist__media > li > div > a').forEach(a => {\n            dramas.push({\n                title: a.title,\n                url: a.href,\n                image: a.getAttribute('data-original'),\n                tag: a.querySelector('span.tag') ? a.querySelector('span.tag').innerText : '',\n                picText: a.querySelector('span.pic-text') ? a.querySelector('span.pic-text').innerText : '',\n                category: title ? title.innerText: '',\n            });\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_load_episodes": "\nwindow.jsLoadEpisodes = () => {\n    const items = [];\n    document.querySelector('#playlist1 ul').querySelectorAll('li a.btn').forEach(node => {\n        items.push({title: node.innerText, url: node.href});\n    });\n    return JSON.stringify(items);\n}\n        "
    },
    {
        "title": "m.youtube.com",
        "url_home": "https://m.youtube.com/",
        "url_search": "https://m.youtube.com/results?search_query=",
        "episode_direction": "desc",
        "js_get_player": "\nwindow.jsGetPlayer = () => {\n    return 'jsGetPlayer-error-iframe-is-null';\n}\n        ",
        "js_clear_tag": "\nwindow.jsClearTag = () => {\n    const style = document.createElement(\"style\");\n    style.innerHTML = `\n        .companion-ad-container,\n        .ytp-ad-action-interstitial,\n        .ytp-cued-thumbnail-overlay>div[style*=\"/sddefault.jpg\"],\n        a[href^=\"/watch?v=\"][onclick^=\"return koya.onEvent(arguments[0]||window.event,'\"]:not([role]):not([class]):not([id]),\n        a[onclick*='\"ping_url\":\"http://www.google.com/aclk?'],\n        ytm-companion-ad-renderer,\n        ytm-companion-slot,\n        ytm-promoted-sparkles-text-search-renderer,\n        ytm-promoted-sparkles-web-renderer,\n        ytm-promoted-video-renderer {display: none !important;}\n        [data-mode=\"watch\"] #block-youtube-ads-logo {color: #fff;}\n        [data-mode=\"searching\"] #block-youtube-ads-logo,\n        [data-mode=\"search\"] #block-youtube-ads-logo {display: none;}\n        #block-youtube-ads-logo {white-space: nowrap;}\n        .mobile-topbar-header-sign-in-button {display: none;}\n        .ytmusic-nav-bar#left-content #block-youtube-ads-logo {display: block;}\n    `;\n    document.head.append(style);\n}\n        ",
        "js_load_meta": "\n    window.jsLoadMeta = () => {\n    const dramas = [];\n    document.querySelectorAll('ytm-rich-item-renderer ytm-video-with-context-renderer').forEach(dom => {\n        const image = dom.querySelector('.video-thumbnail-container-large img');\n        const overlay = dom.querySelector('ytm-thumbnail-overlay-time-status-renderer');\n        const link = dom.querySelector('.large-media-item-metadata a');\n        const h3 = dom.querySelector('.large-media-item-metadata a h3');\n        const metadata = dom.querySelector('.large-media-item-metadata ytm-badge-and-byline-renderer');\n        // const more = dom.querySelector('div.pannel_head > a.text_muted.pull_left');\n        dramas.push({\n            title: h3 ? h3.innerText: '',\n            url: link ? link.href : '',\n            image: image ? image.src : '',\n            tag: metadata ? metadata.innerText : '',\n            picText: overlay ? overlay.innerText : '',\n            category: '全部',\n        });\n    });\n    return JSON.stringify(dramas);\n}\n        ",
        "js_search_results": "\nwindow.jsSearchResults = () => {\n    return JSON.stringify([]);\n}\n        ",
        "js_load_episodes": "\nwindow.jsLoadEpisodes = () => {\n    return JSON.stringify([]);\n}\n        "
    }
]
